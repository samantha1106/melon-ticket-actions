name: Check Melon Tickets

on:
  schedule:
    - cron: '*/5 * * * *'  # 每 5 分鐘執行一次
  workflow_dispatch:       # 也允許手動觸發

jobs:
  check-tickets:
    runs-on: ubuntu-latest
    timeout-minutes: 5
    steps:
      - name: Check Tickets
        uses: samantha1106/melon-ticket-actions@master
        with:
          product-id: 211212
          schedule-id: 100024           # ← 請改成你查到的場次 ID
          seat-id: ALL                  # 檢查所有區域
          slack-incoming-webhook-url: ${{ secrets.SLACK_WEBHOOK_URL }}
          message: '🎫 <@samantha> 〈PHANTOM〉 6/27 19:30 有票啦！快搶！🔥'
